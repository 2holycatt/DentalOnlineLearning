<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>บันทึกความสำเร็จประจำวัน</title>
  <%- include("./partials/header.ejs")%>
  <!-- <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous"> -->
  <link rel="stylesheet" href="/css/assignment.css">
  <link rel="stylesheet" href="/css/fixedSwal.css">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/noty@4/lib/noty.css">
  <script src="https://cdn.jsdelivr.net/npm/noty@4/lib/noty.min.js"></script>
  <!-- <script src="/socket.io/socket.io.js"></script> -->
  <style>
    #sortTime {
      border-radius: 0.25em;
      margin-right: 1em !important;
      border: 1px solid #cdcdcd !important;

    }

    .set-border-bottom {
      border-bottom: 1px solid #EAEFF4;
      padding-bottom: 0.5em !important;
    }

    .eachNoti {
      display: flex;
      align-items: center;
      padding: 15px;
      max-height: 104px;
    }

    .eachNoti img {
      width: 50px;
      height: 50px;
      border-radius: 50%;
      margin-right: 1em !important;
      object-fit: cover;

    }

    .eachNoti .content {
      flex-grow: 1;
    }

    .eachNoti .content p {
      margin: 0;
    }

    .eachNoti .content .time {
      color: gray;
      font-size: 0.9em;
    }

    .mark-as-read-each {
      display: flex;
      justify-content: end;
      align-items: center;
      text-align: center;
    }

    .mask-each-read:hover {
      color: blue !important;
      transition: 03.s;
    }
  </style>
</head>

<body>
  <div id="blur-container">
    <%- include("./partials/nav.ejs")%>
    <!-- <div class="above-nav d-flex px-4 py-3">
      <div class="home-div above-nav-home d-flex mx-2 my-0 align-middle">
        <i class="bi bi-house mx-2"></i>
        <a href="/adminIndex" class="a-home">
          <p class="m-0">หน้าหลัก &nbsp;&nbsp;></p>
        </a>
      </div>
      <a href="#" class="status-a mx-2 my-0 align-middle">
        <p class="m-0">บทเรียน</p>
      </a>
    </div> -->
  </div>
  <div class="main-content d-flex w-100 h-auto">
    <%- include("./partials/lessonsList.ejs")%>
    <div class="aside-right w-75 h-auto p-4">
      <div class="manange-bar px-4 py-3 bg-white d-flex w-100">
        <p class="fw-bold fs-3 lesson-bar">บันทึกความสำเร็จประจำวัน</p>
        <div>
          <a href="/adminIndex/adminDashboard" class="btn btn-primary m-0 p-2">
            ย้อนกลับ
          </a>
        </div>
      </div>
      <div class="my-4 row">
        <div class="col-6 py-2">
          <label for="sortTime">เรียงตามวันที่: </label>
          <select id="sortTime">
            <option value="asc">ล่าสุด-เก่าที่สุด</option>
            <option value="desc">เก่าที่สุด-ล่าสุด</option>
          </select>
        </div>
        <!-- <div class="col-6 d-flex justify-content-end">
          <a href="#addForm" class="text-primary py-2 px-2">ดูการแจ้งเตือนทั้งหมด</i></a>
        </div> -->
      </div>
      <div class="lesson-content bg-white w-100 p-4 my-4" style="height: fit-content;">
        <div class="row set-border-bottom">
          <div class="col-6">
            <p class="fw-normal">
              <i class="bi bi-bell text-primary fs-5"></i>
              <span class="mx-1 fs-6 py-1">
                วันนี้ - 19 กรกฎาคม 2567
              </span>
            </p>
          </div>
        </div>

        <div class="notificationArray">
          <div class="row my-3" data-id="" data-noti-id="">
            <div class="col-8 eachNoti">
              <img src="https://media.themoviedb.org/t/p/w500/1iDRxID6mHf8rftDG0kLWzfXvQA.jpg" alt="รูปโปรไฟล์ผู้ใช้">
              <div class="content">
                <p class="fw-bold">นายปภินวิทย์ สิมาวัน</p>
                <p class="">ทำบทเรียนที่ 6 สำเร็จแล้ว</p>
                <p class="time">09:46</p>
              </div>
            </div>
          </div>
          <div class="row my-3" data-id="" data-noti-id="">
            <div class="col-8 eachNoti">
              <img src="https://i.insider.com/59e8c27624e30a2c008b4687?width=800&format=jpeg&auto=webp" alt="รูปโปรไฟล์ผู้ใช้">
              <div class="content">
                <p class="fw-bold">นายอริญชวุธ กัลยานาม</p>
                <p class="">ทำบทเรียนที่ 1 สำเร็จแล้ว</p>
                <p class="time">10:50</p>
              </div>
            </div>
          </div>
          <div class="row my-3" data-id="" data-noti-id="">
            <div class="col-8 eachNoti">
              <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/3/3c/Tom_Holland_by_Gage_Skidmore.jpg/640px-Tom_Holland_by_Gage_Skidmore.jpg" alt="รูปโปรไฟล์ผู้ใช้">
              <div class="content">
                <p class="fw-bold">นายภูเบศ โกมุติบาล</p>
                <p class="">ทำบทเรียนที่ 4 สำเร็จแล้ว</p>
                <p class="time">11:21</p>
              </div>
            </div>
          </div>
        </div>
      </div>

      <div class="d-flex justify-content-end">
        <nav aria-label="Page navigation example">
            <ul class="pagination">
              <li class="page-item">
                <a class="page-link px-2 disabled" href="/" >ก่อนหน้า</a>
              </li>
    
              <li class="page-item">
                <a class="page-link px-2 active" href="/">1</a>
              </li>
    
              <li class="page-item">
                <a class="page-link px-2" href="/">2</a>
              </li>
    
              <li class="page-item">
                <a class="page-link px-2" href="/">ถัดไป</a>
              </li>
    
            </ul>
          </nav>
      </div>

    </div>

  </div>
  <%- include("./partials/footer.ejs")%>
  <script>
    // ดึง element ของ startTime และ endTime จากฟอร์ม
    const startTimeInput = document.getElementById('StartDate');
    const endTimeInput = document.getElementById('Deadline');

    startTimeInput.addEventListener('input', function() {
      checkTimeValidity();
    });

    endTimeInput.addEventListener('input', function() {
      checkTimeValidity();
    });

    // ฟังก์ชันสำหรับตรวจสอบความถูกต้องของเวลาและแสดง alert ถ้ามีข้อผิดพลาด
    function checkTimeValidity() {
      const startTime = new Date(startTimeInput.value);
      const endTime = new Date(endTimeInput.value);

      if (startTime >= endTime) {
        Swal.fire({
          icon: "error",
          title: "กำหนดวันที่และเวลาไม่ถูกต้อง",
          text: "วันที่หมดเขตส่งไม่สามารถต่ำกว่าวันที่เปิดให้ส่งได้",
          timer: 2000,
          customClass: {
            container: 'swal-container-padding', // กำหนด padding ให้ container ของ Swal
            icon: 'swal-icon-center', // กำหนดให้ icon อยู่กึ่งกลาง
            confirmButton: 'swal-btn-padding' // กำหนด padding ให้ปุ่ม "OK"
          }
        });
        endTimeInput.value = '';
      }
    }
  </script>
</body>


</html>